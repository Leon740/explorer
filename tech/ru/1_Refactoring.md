# Рефакторинг

> Улучшение кодовой базы без изменения поведения для конечного пользователя.

## Рефакторинг - это не

- изменение текущего функционала
- добавление новых фич

## Рефакторинг

- экономит время разработки  
  (за счёт переиспользования функционала)
- упрощает обновления и поддержку  
  (обновление одного общего модуля вместо пяти дубликатов)
- улучшает читаемость и документацию  
  (тесты - как документация, код - как проза)
- помогает другим разработчикам эффективно работать с кодовой базой

## Как рефакторить

**Задача**  
Добавить фичу **B**, при том что уже существует фича **A**.

- отрефакторить фичу **A**  
  (каждое изменение → запуск → тесты → коммит)
- реализовать фичу **B**
- отрефакторить фичу **B**

_Крупные модули можно рефакторить постепенно, небольшими шагами, в течение длительного времени._

## Когда не стоит рефакторить

- огромные модули целиком - вместо этого лучше создать новый модуль,
  реализовав только необходимый функционал (**YAGNI**)
- модули, которые не относятся к текущей задаче или области работы

## Legacy-код

Существуют большие кодовые базы с запутанной логикой и отсутствием тестов.  
В таких случаях стоит опираться на подходы из книги **“Refactoring Legacy Applications”** (или аналогичных руководств),
начиная с изоляции и покрытия кода тестами.
